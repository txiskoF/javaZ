<h4>Trabajos de Elderly</h4>
<div class="row">
    <div class="col-4 mb-3">
        <label for="comboCategorias">Categoría</label>
        <select class="form-select" id="comboCategorias" [(ngModel)]="categoriaSeleccionada" name="comboCategorias">
            <option *ngFor="let cat of listadoCategorias" [ngValue]="cat.id">{{cat.categoria}}</option>
        </select>
    </div>
    <div class="col-2"></div>
    <div class="col-1">
        <button class="btn btn-primary" type="submit" (click)="buscar()">Buscar</button>
    </div>
    <div class="col-2" *ngIf="rolLogueado == 'supervisor'">
        <button class="btn btn-primary" type="submit" (click)="crearTrabajo()">Nuevo trabajo</button>
    </div>
    <div class="col-4"></div>
</div>

<div class="col-8" *ngIf="busquedaRealizada && hayTrabajos">
    <table class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
        <thead>
            <tr>
                <th class="th-sm">Descripción</th>
                <th class="th-sm">Precio</th>
                <th class="th-sm" *ngIf="rolLogueado == 'supervisor'">Editar</th>
                <th class="th-sm" *ngIf="rolLogueado == 'supervisor'">Eliminar</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let trab of listadoTrabajos">
                <td>{{trab.trabajo}}</td>
                <td>{{trab.precio}}€</td>
                <td class="text-center" *ngIf="rolLogueado == 'supervisor'"><a style="cursor: pointer;" (click)="editar(trab.id)"><img src="assets\imagenes\edit.png"></a></td>
                <td class="text-center" *ngIf="rolLogueado == 'supervisor'"><a style="cursor: pointer;" (click)="borrar(trab.id)"><img src="assets\imagenes\delete.png"></a></td>
            </tr>
        </tbody>
    </table>
</div>

<div class="col-8" *ngIf="busquedaRealizada && !hayTrabajos">
    <p class="col-7 text-center mt-4 text-secondary">No se ha encontrado ningún trabajo para esa categoría</p>
</div>